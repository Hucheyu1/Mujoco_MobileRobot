<mujoco>
  <compiler autolimits="true"/>

  <asset>
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1=".1 .2 .3" rgb2=".2 .3 .4"/>
    <material name="grid" texture="grid" texrepeat="1 1" texuniform="true" reflectance=".2"/>
    <mesh name="chasis" scale=".01 .006 .0015"
      vertex=" 9   2   0
              -10  10  10
               9  -2   0
               10  3  -10
               10 -3  -10
              -8   10 -10
              -10 -10  10
              -8  -10 -10
              -5   0   20"/>
  </asset>


  <default>
    <joint damping=".03" actuatorfrcrange="-0.5 0.5"/>
    <default class="wheel">
        <geom type="cylinder" size=".03 .01" rgba=".5 .5 1 1"/>
    </default>
    <default class="decor">
        <site type="box" rgba=".5 1 .5 1"/>
    </default>
</default>


<worldbody>
  <geom type="plane" size="6 6 .01" material="grid"/>

  <body name="pusher1" pos="-4.0 2.0 .03">

    <freejoint/>
    <!-- <light name="top light" pos="0 0 2" mode="trackcom" diffuse=".4 .4 .4"/> -->
    <!-- <geom name="chasis" type="mesh" mesh="chasis"  rgba="0 .8 0 1"/> -->
    <geom name="base"
            type="cylinder"
            pos="0 0 0.03"
            size="0.15 0.03"    
            rgba="1.0 0.6 0.2 1" 
            margin="0.02"/>

    <geom type="box" pos="0.16 0 0.03" size="0.01 0.14 0.05" rgba="1 1 1 1"/>

    <geom name="front wheel" pos="0.12 0 -.015" type="sphere" size=".015" condim="1" priority="1"/>
    <!-- <light name="front light" pos=".1 0 .02" dir="2 0 -1" diffuse="1 1 1"/> -->

    <body name="left wheel" pos="-.02 .16 0" zaxis="0 1 0" >
      <joint name="left"/>
      <geom class="wheel" />
      <site class="decor" size=".006 .025 .012"/>
      <site class="decor" size=".025 .006 .012"/>
    </body>

    <body name="right wheel" pos="-.02 -.16 0" zaxis="0 1 0">
      <joint name="right"/>
      <geom class="wheel" />
      <site class="decor" size=".006 .025 .012"/>
      <site class="decor" size=".025 .006 .012"/>
    </body>

  </body>




  <!-- 四周围墙 -->
  <geom name="ob_wall_north" type="box" pos="0 4.5 0.2" size="4.5 0.05 0.2" rgba=".8 .2 .2 1"/>
  <geom name="ob_wall_south" type="box" pos="0 -4.5 0.2" size="4.5 0.05 0.2" rgba=".8 .2 .2 1"/>
  <geom name="ob_wall_west"  type="box" pos="-4.5 0 0.2" size="0.05 4.5 0.2" rgba=".8 .2 .2 1"/>
  <geom name="ob_wall_east"  type="box" pos="4.5 0 0.2"  size="0.05 4.5 0.2" rgba=".8 .2 .2 1"/>

  <!-- 走廊（两条平行长条墙，留中间通道） -->
  <geom name="ob_corridor_1" type="box" pos="-1.5 1.5 0.2" size="1.2 0.06 0.2" rgba=".9 .6 .2 1"/>
  <geom name="ob_corridor_2" type="box" pos="-1.5 0.8 0.2"  size="1.2 0.06 0.2" rgba=".9 .6 .2 1"/>

  <!-- 方块障碍 -->
  <geom name="ob_box_1" type="box" pos="-3.2 3.0 0.25" size="0.4 0.4 0.25" rgba=".2 .6 .9 1"/>
  <geom name="ob_box_2" type="box" pos=" 1.2 -2.5 0.20" size="0.5 0.3 0.20" rgba=".2 .6 .9 1"/>

  <!-- 圆柱障碍/立柱 -->
  <geom name="ob_cyl_1" type="cylinder" pos="-2.5 -3.0 0.25" size="0.30 0.25" rgba=".3 .9 .5 1"/>
  <geom name="ob_pillar" type="cylinder" pos="2.2 -1.0 0.30" size="0.15 0.30" rgba=".3 .9 .5 1"/>

  <!-- L 形转角（两块窄墙） -->
  <geom name="ob_L_1" type="box" pos="2.8 0.0 0.2"  size="0.06 1.0 0.2" rgba=".7 .4 .9 1"/>
  <geom name="ob_L_2" type="box" pos="3.6 -1.0 0.2" size="0.9 0.06 0.2" rgba=".7 .4 .9 1"/>

</worldbody>


<tendon>
  <fixed name="forward">
    <joint joint="left" coef=".5"/>
    <joint joint="right" coef=".5"/>
  </fixed>
  <fixed name="turn">
    <joint joint="left" coef="-.5"/>
    <joint joint="right" coef=".5"/>
  </fixed>
</tendon>

<actuator>
  <motor name="forward" tendon="forward" ctrlrange="-1 1"/>
  <motor name="turn" tendon="turn" ctrlrange="-1 1"/>
</actuator>


<sensor>
    <jointactuatorfrc name="right" joint="right"/>
    <jointactuatorfrc name="left" joint="left"/>
  </sensor>
</mujoco>
